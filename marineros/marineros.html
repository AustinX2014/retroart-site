<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Marines Canarios — Clan World of Warships</title>

  <!-- FUENTES -->
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600&family=Russo+One&display=swap" rel="stylesheet">

  <style>
    :root{
      --card:#0f2740;
      --accent:#f2b84b;
      --muted:#9fb3c8;
      --glass: rgba(255,255,255,0.04);
      --epic-glow: 0 8px 30px rgba(242,184,75,0.15);
    }

    *{box-sizing:border-box}

    /* Fondo + efecto parallax (controlado por JS) */
    body{
      margin:0;
      font-family:'Cinzel', serif;
      background: url('imagenes/fondo.png') no-repeat center center fixed;
      background-size: cover;
      color:#e6f2ff;
      overflow-x:hidden;
    }

    /* Lienzo para partículas épicas (arriba de todo) */
    #particles {
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:2;
    }

    .container{
      position:relative;
      z-index:3; /* por encima de partículas */
      max-width:1100px;
      margin:36px auto;
      padding:24px;
      background:linear-gradient(180deg, rgba(3,15,30,0.72), rgba(3,15,30,0.55));
      border-radius:15px;
      backdrop-filter: blur(6px);
      box-shadow: 0 10px 40px rgba(0,0,0,0.6);
    }

    header{
      display:flex;
      align-items:center;
      gap:20px;
    }

    .logo{
      width:84px;
      height:84px;
      border-radius:10px;
      overflow:hidden;
      box-shadow:0 6px 20px rgba(0,0,0,0.7);
      display:flex;
      align-items:center;
      justify-content:center;
      background:linear-gradient(135deg,#05243e 0%, #0f3f5f 100%);
    }

    .logo img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }

    h1{
      margin:0;
      font-size:32px;
      font-family:'Russo One', sans-serif;
      letter-spacing:2px;
      color:var(--accent);
      /* shimmer */
      background: linear-gradient(90deg, #f2b84b, #fff, #f2b84b);
      background-size: 200% 100%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: shimmer 3.5s linear infinite;
      text-shadow: 0 0 12px rgba(242,184,75,0.25);
    }

    @keyframes shimmer{
      0%{background-position:0% 50%}
      100%{background-position:200% 50%}
    }

    .meta{color:var(--muted);margin-top:6px}

    .links{margin-left:auto;text-align:right}

    a.button{
      display:inline-block;
      padding:10px 18px;
      border-radius:10px;
      background:var(--accent);
      color:#072033;
      font-weight:700;
      text-decoration:none;
      margin-left:8px;
      font-family:'Russo One', sans-serif;
      letter-spacing:1px;
      transition:transform .18s ease, box-shadow .18s ease;
      box-shadow: var(--epic-glow);
    }

    a.button:hover{
      transform:translateY(-3px) scale(1.02);
      box-shadow: 0 12px 40px rgba(242,184,75,0.25);
    }

    .info{
      margin:22px 0;
      padding:18px;
      border-radius:12px;
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid rgba(255,255,255,0.02);
    }

    .tag{
      display:inline-block;
      padding:6px 10px;
      border-radius:8px;
      background:var(--glass);
      color:var(--accent);
      font-weight:700
    }

    /* CONTENEDOR DE TARJETAS */
    .grid{
      display:flex;
      flex-wrap:wrap;
      justify-content:center;
      gap:20px;
      margin-top:20px;
    }

    .card{
      width:300px;
      max-width:100%;
      border-radius:10px;
      overflow:hidden;
      background:var(--card);
      display:flex;
      flex-direction:column;
      cursor:pointer;
      box-shadow:0 8px 15px rgba(0,0,0,0.7);
      position:relative;
      transition: transform .28s cubic-bezier(.2,.9,.2,1), box-shadow .28s ease;
      border: 1px solid rgba(242,184,75,0.06);
    }

    /* Glow sutil al hover (épico) */
    .card::after{
      content:'';
      position:absolute;
      inset:0;
      pointer-events:none;
      border-radius:10px;
      box-shadow: 0 0 0 rgba(242,184,75,0);
      transition: box-shadow .28s ease;
    }

    .card:hover{
      transform: translateY(-8px) scale(1.01);
      box-shadow: 0 18px 50px rgba(2,12,30,0.6);
    }

    .card:hover::after{
      box-shadow: 0 0 40px rgba(242,184,75,0.12), inset 0 0 30px rgba(242,184,75,0.03);
    }

    /* 2 arriba */
    .card:nth-child(1),
    .card:nth-child(2){
      flex: 0 1 45%;
    }

    /* 3 abajo */
    .card:nth-child(3),
    .card:nth-child(4),
    .card:nth-child(5){
      flex: 0 1 28%;
    }

    @media (max-width:768px){
      .card{
        flex: 0 1 100% !important;
      }
      header{
        flex-direction:column;
        text-align:center;
      }
      .links{
        margin:15px 0 0 0;
      }
      .container{padding:18px}
    }

    .role-label{
      padding:10px 14px;
      font-weight:700;
      background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.00));
      color: #eaf6ff;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:8px;
    }

    .media{
      width:100%;
      display:flex;
      justify-content:center;
      align-items:center;
      padding:10px;
      position:relative;
      background: linear-gradient(180deg, rgba(0,0,0,0.03), rgba(0,0,0,0.08));
    }

    /* IMAGEN: keep aspect, no crop */
    .media img{
      width:100%;
      height:auto;
      max-height:220px;
      object-fit:contain; /* crucial: no corta */
      display:block;
      transition:filter .3s ease, transform .3s ease;
      filter: drop-shadow(0 8px 18px rgba(0,0,0,0.6));
    }

    .overlay{
      position:absolute;
      inset:0;
      display:flex;
      flex-direction:column;
      justify-content:flex-end;
      padding:12px;
      background:linear-gradient(180deg, rgba(0,0,0,0) 40%, rgba(0,0,0,0.6) 100%);
      color:#fff;
      pointer-events:none
    }

    .details{
      backdrop-filter: blur(4px);
      background:rgba(0,0,0,0.35);
      padding:8px;
      border-radius:8px;
      opacity:0;
      transform:translateY(10px);
      transition:opacity .3s ease, transform .3s ease;
    }

    .card:hover img,
    .card.active img{
      filter:grayscale(80%) contrast(.95);
      transform:scale(1.03);
    }

    .card:hover .details,
    .card.active .details{
      opacity:1;
      transform:translateY(0);
    }

    .role-name{
      font-weight:700;
      margin-bottom:6px
    }

    .nicks{
      font-size:13px;
      line-height:1.3;
      color:#eaf6ff;
    }

    footer{
      margin-top:26px;
      color:var(--muted);
      font-size:13px
    }

    /* pequeño HUD épico en esquina */
    .hud {
      position:fixed;
      right:16px;
      bottom:16px;
      z-index:4;
      background:rgba(0,0,0,0.35);
      padding:8px 12px;
      border-radius:10px;
      color:var(--muted);
      font-size:13px;
      backdrop-filter: blur(6px);
      border:1px solid rgba(255,255,255,0.03);
    }

    /* animación sutil en logo */
    .logo img { transition: transform .35s ease, box-shadow .35s ease; }
    .logo img:hover { transform: rotate(-6deg) scale(1.03); box-shadow: 0 10px 30px rgba(0,0,0,0.6); }

  </style>
</head>

<body>

  <!-- canvas partículas -->
  <canvas id="particles" aria-hidden="true"></canvas>

  <div class="container" id="siteContainer">
    <header>
      <div class="logo" title="Marines Canarios">
        <img src="imagenes/logo.png" alt="Logo Marines Canarios">
      </div>
      <div>
        <h1>Marines Canarios</h1>
        <div class="meta">
          Clan de World of Warships — Etiqueta: <span class="tag">CANAR</span>
        </div>
      </div>
      <div class="links">
        <!-- Botón UNIRSE: ya apunta al Discord -->
        <a id="joinButton" class="button" href="https://discord.com/invite/zD9zbxtu" target="_blank" rel="noopener">UNIRSE</a>
      </div>
    </header>

    <div class="info">
      <strong>Información del clan</strong>
      <p style="margin:10px 0 0 0;color:var(--muted)">
        Estos son los puestos principales del clan. Pasa el cursor o pulsa para ver los nicks asignados.
      </p>
    </div>

    <section class="grid" aria-label="Puestos del clan">

      <article class="card" data-role="Guardamarina" data-nicks="AustinX">
        <div class="role-label">Guardamarina</div>
        <div class="media">
          <img src="imagenes/Guardamarina.png" alt="Guardamarina"/>
          <div class="overlay">
            <div class="details">
              <div class="role-name">Guardamarina</div>
              <div class="nicks"></div>
            </div>
          </div>
        </div>
      </article>

      <article class="card" data-role="Subcomandante" data-nicks="Canario_100, Yesilanza">
        <div class="role-label">Subcomandante</div>
        <div class="media">
          <img src="imagenes/Sudcomandante.png" alt="Subcomandante"/>
          <div class="overlay">
            <div class="details">
              <div class="role-name">Subcomandante</div>
              <div class="nicks"></div>
            </div>
          </div>
        </div>
      </article>

      <article class="card" data-role="Reclutador" data-nicks="Recluta01, Recluta02, OlaSerena">
        <div class="role-label">Reclutador</div>
        <div class="media">
          <img src="imagenes/Reclutador.png" alt="Reclutador"/>
          <div class="overlay">
            <div class="details">
              <div class="role-name">Reclutador</div>
              <div class="nicks"></div>
            </div>
          </div>
        </div>
      </article>

      <article class="card" data-role="Oficial Comisionado" data-nicks="OficialC, BrisaNorte">
        <div class="role-label">Oficial Comisionado</div>
        <div class="media">
          <img src="imagenes/Oficial Comisionado.png" alt="Oficial Comisionado"/>
          <div class="overlay">
            <div class="details">
              <div class="role-name">Oficial Comisionado</div>
              <div class="nicks"></div>
            </div>
          </div>
        </div>
      </article>

      <article class="card" data-role="Oficial" data-nicks="Comandante, VelaRoja">
        <div class="role-label">Oficial</div>
        <div class="media">
          <img src="imagenes/Oficial.png" alt="Oficial"/>
          <div class="overlay">
            <div class="details">
              <div class="role-name">Oficial</div>
              <div class="nicks"></div>
            </div>
          </div>
        </div>
      </article>

    </section>

    <footer>
      © Marines Canarios - Clan Oficial World of Warships
    </footer>
  </div>

  <div class="hud">Modo: ÉPICO • Efectos activos</div>

<script>
  /***********************
   * Inicializa tarjetas *
   ***********************/
  function setupCards(){
    document.querySelectorAll('.card').forEach(card => {
      const nicksRaw = card.getAttribute('data-nicks') || '';
      const role = card.getAttribute('data-role') || '';
      const nicksList = nicksRaw.split(',').map(s => s.trim()).filter(Boolean);
      const nicksEl = card.querySelector('.nicks');
      if(nicksList.length){
        nicksEl.innerHTML = nicksList.map(n => `<div>• ${escapeHtml(n)}</div>`).join('');
      } else {
        nicksEl.innerHTML = '<span style="opacity:.8">Sin nicks asignados</span>';
      }
      const roleNameEl = card.querySelector('.role-name');
      if(roleNameEl && !roleNameEl.textContent.trim()) roleNameEl.textContent = role;

      // mobile: toggle active on touch/click (conserva comportamiento)
      card.addEventListener('click', function(e){
        // si se hace click en un enlace real (p.ej. el botón) no interferir
        const targetIsLink = e.target.closest('a, button');
        if(targetIsLink) return;
        if(card.classList.contains('active')){
          card.classList.remove('active');
        } else {
          document.querySelectorAll('.card.active').forEach(c=>c.classList.remove('active'));
          card.classList.add('active');
        }
      });

      card.addEventListener('touchstart', ()=>{}); // evitar selección no deseada en móviles
    });
  }

  function escapeHtml(str){
    return str.replace(/[&<>"']/g, function(m){return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m];});
  }

  document.addEventListener('DOMContentLoaded', setupCards);

  /***************************
   * Parallax background (mouse)
   ***************************/
  (function(){
    const body = document.body;
    let lx = 0, ly = 0;
    document.addEventListener('mousemove', (e)=>{
      const w = window.innerWidth, h = window.innerHeight;
      const x = (e.clientX - w/2) / (w/2);
      const y = (e.clientY - h/2) / (h/2);
      // mueve ligeramente la posición del background — efecto parallax
      const px = Math.round(x * 4); // ajuste de intensidad
      const py = Math.round(y * 2);
      body.style.backgroundPosition = `calc(50% + ${px}px) calc(50% + ${py}px)`;
    });
  })();

  /*****************************
   * Partículas ligeras (canvas)
   *****************************/
  (function(){
    const canvas = document.getElementById('particles');
    const ctx = canvas.getContext('2d');
    let w = canvas.width = innerWidth;
    let h = canvas.height = innerHeight;
    const particles = [];
    const count = Math.floor((w*h) / 90000); // escalable con tamaño pantalla

    function rand(min, max){ return Math.random()*(max-min)+min; }

    function init(){
      particles.length = 0;
      for(let i=0;i<count;i++){
        particles.push({
          x: rand(0,w),
          y: rand(0,h),
          r: rand(0.6,2.4),
          vx: rand(-0.15,0.15),
          vy: rand(-0.05,0.05),
          alpha: rand(0.08,0.25)
        });
      }
    }

    function resize(){
      w = canvas.width = innerWidth;
      h = canvas.height = innerHeight;
      init();
    }
    addEventListener('resize', resize);
    init();

    function step(){
      ctx.clearRect(0,0,w,h);
      for(const p of particles){
        p.x += p.vx;
        p.y += p.vy;
        // wrap
        if(p.x < -10) p.x = w + 10;
        if(p.x > w +10) p.x = -10;
        if(p.y < -10) p.y = h + 10;
        if(p.y > h +10) p.y = -10;

        ctx.beginPath();
        ctx.fillStyle = `rgba(242,184,75,${p.alpha})`;
        ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
        ctx.fill();
      }
      requestAnimationFrame(step);
    }
    requestAnimationFrame(step);
  })();

  /*******************************
   * Sonido blip en botón UNIRSE *
   *******************************/
  (function(){
    // Genera un blip con WebAudio al hacer click (no necesita archivos)
    const joinBtn = document.getElementById('joinButton');
    if(!joinBtn) return;

    function blip(){
      try{
        const ctx = new (window.AudioContext || window.webkitAudioContext)();
        const o = ctx.createOscillator();
        const g = ctx.createGain();
        o.type = 'sawtooth';
        o.frequency.setValueAtTime(600, ctx.currentTime);
        g.gain.setValueAtTime(0, ctx.currentTime);
        g.gain.linearRampToValueAtTime(0.12, ctx.currentTime + 0.005);
        g.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime + 0.22);
        o.connect(g); g.connect(ctx.destination);
        o.start();
        o.stop(ctx.currentTime + 0.25);
      }catch(e){
        // audio context bloqueado por política del navegador; ignorar silenciosamente
      }
    }

    joinBtn.addEventListener('click', function(e){
      blip();
      // el anchor ya abre discord; no interferimos
    }, {passive:true});
  })();

  /**************************************************
   * Mantengo tu script original (rellena nicks y toggle)
   **************************************************/
  // ya está integrado arriba en setupCards()

</script>

</body>
</html>
